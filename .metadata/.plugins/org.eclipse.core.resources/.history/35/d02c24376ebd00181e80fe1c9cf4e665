package com.dms.view;

import java.awt.Color;
import java.awt.Dimension;
import java.awt.Font;
import java.awt.event.ActionEvent;
import java.awt.event.ActionListener;
import java.util.List;

import javax.swing.JComboBox;
import javax.swing.JFrame;
import javax.swing.JLabel;

import com.dms.dao.PatientDaoImpl;

public class PatientHistory implements ActionListener {

	
	JFrame patientHistoryFrame;
	JLabel headingLabel,patientNameLabel,patientdetailsLabel,addressLabel,mobileNoLabel,AgeLabel,GenderLabel,treatmentLabel;
	JLabel patientNameLabelValue,patientdetailsLabelValue,addressLabelValue,mobileNoLabelValue,AgeLabelValue,GenderLabelValue;
	JComboBox patientNameBox;
	
	public PatientHistory() {
	
		patientHistoryFrame=new JFrame("Patient History");
		patientHistoryFrame.setPreferredSize(new Dimension(1366,768));
		
		headingLabel=new JLabel("Patient History");
		headingLabel.setFont(new Font("Aerial", Font.PLAIN, 50));
			
		patientNameBox=new JComboBox();
		
		
		patientNameBox.addActionListener(this);

	       List<String> l=new PatientDaoImpl().getPatientNames();
			
			for(String i:l) {
				patientNameBox.addItem(i);
			}
		
		patientNameLabel=new JLabel("Patient Name:");
		addressLabel=new JLabel("Address");
		mobileNoLabel=new JLabel("Mobile No");
		AgeLabel=new JLabel("Age");
		GenderLabel=new JLabel("Gender");
		treatmentLabel=new JLabel("Treatment details");
		
		addressLabelValue=new JLabel();
		mobileNoLabelValue=new JLabel();
		AgeLabelValue=new JLabel();
		GenderLabelValue=new JLabel();
		
		
		headingLabel.setBounds(50, -25, 400, 100);
		
		patientNameLabel.setBounds(100,100,150,30);
		addressLabel.setBounds(120,200,150,30);
		mobileNoLabel.setBounds(120,250,150,30);
		AgeLabel.setBounds(500,250,100,30);
		GenderLabel.setBounds(600,250,100,30);
		treatmentLabel.setBounds(100,300,150,30);
		
		addressLabelValue.setBounds(280,200,150,30);
		mobileNoLabelValue.setBounds(120,250,150,30);
		AgeLabelValue.setBounds(500,250,100,30);
		GenderLabelValue.setBounds(600,250,100,30);
		
		patientNameBox.setBounds(260,100,200,30);
		
		
		
		patientHistoryFrame.add(headingLabel);
		
		patientHistoryFrame.add(patientNameLabel);
		patientHistoryFrame.add(addressLabel);
		patientHistoryFrame.add(mobileNoLabel);
		patientHistoryFrame.add(AgeLabel);
		patientHistoryFrame.add(GenderLabel);
		patientHistoryFrame.add(treatmentLabel);
		
		patientHistoryFrame.add(patientNameBox);
		
		patientHistoryFrame.setLayout(null);
		patientHistoryFrame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
		patientHistoryFrame.pack();
		patientHistoryFrame.setLocationRelativeTo(null);
		patientHistoryFrame.setVisible(true);
	}
	
	public static void main(String[] args) {
      new PatientHistory();
	}

	@Override
	public void actionPerformed(ActionEvent e) {
		
		if(patientNameBox.hasFocus())
		{
			addressLabelValue.setText(new PatientDaoImpl().getPatientbyName(patientNameBox.getSelectedItem().toString()).getAddress());
		}
		
	}

}
